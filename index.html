<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5469196111567716" crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kurd GPT - اسألني وأنا أجاوبك صوتياً</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #4A90E2 0%, #87CEEB 100% );
            min-height: 100vh;
            direction: rtl;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #4A90E2 0%, #87CEEB 100%);
            color: white;
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .header-main {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
        }

        .flag {
            width: 50px;
            height: 35px;
            border-radius: 8px;
            border: 2px solid rgba(255, 255, 255, 0.3);
            object-fit: cover;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .instagram-link {
            display: inline-flex;
            align-items: center;
            gap: 6px;
            background: rgba(255, 255, 255, 0.15);
            color: white;
            padding: 6px 12px;
            border-radius: 15px;
            text-decoration: none;
            font-size: 12px;
            font-weight: bold;
            transition: all 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .instagram-link:hover {
            background: rgba(255, 255, 255, 0.25);
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(0,0,0,0.2);
        }

        /* Auth Screens */
        .auth-container {
            padding: 40px;
            text-align: center;
            display: block;
        }

        .auth-form {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #e9ecef;
            max-width: 400px;
            margin: 20px auto;
        }

        .form-group {
            margin-bottom: 20px;
            text-align: right;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #2c3e50;
            font-weight: bold;
        }

        .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            direction: rtl;
        }

        .form-group input:focus {
            outline: none;
            border-color: #4A90E2;
            box-shadow: 0 0 10px rgba(74, 144, 226, 0.3);
        }

        .auth-btn {
            width: 100%;
            padding: 15px;
            background: linear-gradient(135deg, #4A90E2 0%, #357ABD 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 15px;
        }

        .auth-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(74, 144, 226, 0.4);
        }

        .auth-switch {
            color: #4A90E2;
            cursor: pointer;
            text-decoration: underline;
            margin-top: 15px;
            display: inline-block;
        }

        /* Main Content */
        .main-content {
            padding: 30px;
            display: none;
        }

        .chat-container {
            display: flex;
            height: 500px;
            border: 2px solid #e9ecef;
            border-radius: 15px;
            overflow: hidden;
        }

        .chat-sidebar {
            width: 200px;
            background: #f8f9fa;
            border-left: 2px solid #e9ecef;
            padding: 20px;
        }

        .chat-room {
            padding: 12px;
            margin-bottom: 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            font-weight: bold;
        }

        .chat-room.ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .chat-room.help {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .chat-room.general {
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
        }

        .chat-room:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .chat-room.active {
            transform: scale(1.05);
            box-shadow: 0 8px 20px rgba(0,0,0,0.3);
        }

        .chat-main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            background: #4A90E2;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }

        .chat-messages {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            background: white;
        }

        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 10px;
            max-width: 80%;
        }

        .message.user {
            background: #e3f2fd;
            margin-right: auto;
            border: 1px solid #bbdefb;
        }

        .message.other {
            background: #f5f5f5;
            margin-left: auto;
            border: 1px solid #e0e0e0;
        }

        .message.ai {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-left: auto;
        }

        .message-header {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }

        .message.ai .message-header {
            color: rgba(255,255,255,0.8);
        }

        .chat-input-container {
            padding: 15px;
            background: #f8f9fa;
            border-top: 1px solid #e9ecef;
            display: flex;
            gap: 10px;
        }

        .chat-input {
            flex: 1;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 14px;
            direction: rtl;
        }

        .chat-input:focus {
            outline: none;
            border-color: #4A90E2;
        }

        .send-btn {
            padding: 12px 20px;
            background: #4A90E2;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
        }

        .send-btn:hover {
            background: #357ABD;
        }

        .user-info {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
            margin-left: 20px;
            display: none;
            align-items: center;
            gap: 10px;
        }

        .logout-btn {
            background: rgba(255, 255, 255, 0.3);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .logout-btn:hover {
            background: rgba(255, 255, 255, 0.4);
        }

        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .instagram-link {
                font-size: 11px;
                padding: 5px 10px;
            }
            
            .chat-container {
                height: 400px;
                flex-direction: column;
            }
            
            .chat-sidebar {
                width: 100%;
                height: 80px;
                display: flex;
                gap: 10px;
                padding: 10px;
                overflow-x: auto;
            }
            
            .chat-room {
                min-width: 80px;
                margin-bottom: 0;
                font-size: 12px;
                padding: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-main">
                <img src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iMzUiIHZpZXdCb3g9IjAgMCA1MCAzNSIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjUwIiBoZWlnaHQ9IjM1IiBmaWxsPSIjRkYwMDAwIi8+CjxyZWN0IHk9IjExLjY2NjciIHdpZHRoPSI1MCIgaGVpZ2h0PSIxMS42NjY3IiBmaWxsPSIjRkZGRkZGIi8+CjxyZWN0IHk9IjIzLjMzMzMiIHdpZHRoPSI1MCIgaGVpZ2h0PSIxMS42NjY3IiBmaWxsPSIjMDA4MDAwIi8+CjxjaXJjbGUgY3g9IjI1IiBjeT0iMTcuNSIgcj0iNSIgZmlsbD0iI0ZGRkYwMCIvPgo8L3N2Zz4K" alt="Kurdistan Flag" class="flag">
                <h1>Kurd GPT</h1>
                <div class="user-info" id="userInfo">
                    <span id="userName"></span>
                    <button class="logout-btn" onclick="logout()">تسجيل خروج</button>
                </div>
            </div>
            <a href="https://www.instagram.com/redoan.m7?igsh=MTV2eXhyZXcyZTg0cQ==" target="_blank" class="instagram-link">
                📸 Instagram
            </a>
        </div>

        <!-- Auth Container -->
        <div class="auth-container" id="authContainer">
            <div class="auth-form" id="loginForm">
                <h2>تسجيل الدخول</h2>
                <div class="form-group">
                    <label>الاسم الأول:</label>
                    <input type="text" id="loginFirstName" placeholder="أدخل اسمك الأول">
                </div>
                <div class="form-group">
                    <label>اسم العائلة:</label>
                    <input type="text" id="loginLastName" placeholder="أدخل اسم العائلة">
                </div>
                <div class="form-group">
                    <label>المدينة:</label>
                    <input type="text" id="loginCity" placeholder="أدخل مدينتك">
                </div>
                <button class="auth-btn" onclick="login( )">تسجيل الدخول</button>
                <div class="auth-switch" onclick="showRegister()">إنشاء حساب جديد</div>
            </div>

            <div class="auth-form" id="registerForm" style="display: none;">
                <h2>إنشاء حساب جديد</h2>
                <div class="form-group">
                    <label>الاسم الأول:</label>
                    <input type="text" id="regFirstName" placeholder="أدخل اسمك الأول">
                </div>
                <div class="form-group">
                    <label>اسم العائلة:</label>
                    <input type="text" id="regLastName" placeholder="أدخل اسم العائلة">
                </div>
                <div class="form-group">
                    <label>المدينة:</label>
                    <input type="text" id="regCity" placeholder="أدخل مدينتك">
                </div>
                <button class="auth-btn" onclick="register()">إنشاء الحساب</button>
                <div class="auth-switch" onclick="showLogin()">لديك حساب؟ تسجيل الدخول</div>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content" id="mainContent">
            <div class="chat-container">
                <div class="chat-sidebar">
                    <div class="chat-room ai active" onclick="switchRoom('ai')">
                        🤖 الذكاء الاصطناعي
                    </div>
                    <div class="chat-room help" onclick="switchRoom('help')">
                        🆘 مساعدة
                    </div>
                    <div class="chat-room general" onclick="switchRoom('general')">
                        😄 دردشة عامة
                    </div>
                </div>
                <div class="chat-main">
                    <div class="chat-header" id="chatHeader">
                        🤖 الذكاء الاصطناعي - KurdGPT
                    </div>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message ai">
                            <div class="message-header">KurdGPT</div>
                            مرحباً! أنا KurdGPT، ذكاءك الاصطناعي الشخصي. كيف يمكنني مساعدتك اليوم؟
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <input type="text" class="chat-input" id="messageInput" placeholder="اكتب رسالتك هنا..." onkeypress="handleKeyPress(event)">
                        <button class="send-btn" onclick="sendMessage()">إرسال</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentUser = null;
        let currentRoom = 'ai';
        let messages = {
            ai: [],
            help: [],
            general: []
        };

        // Check if user is logged in
        function checkAuth() {
            const savedUser = localStorage.getItem('kurdgpt_user');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                showMainContent();
            }
        }

        // Show/Hide forms
        function showLogin() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        function showRegister() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        // Login function
        function login() {
            const firstName = document.getElementById('loginFirstName').value.trim();
            const lastName = document.getElementById('loginLastName').value.trim();
            const city = document.getElementById('loginCity').value.trim();

            if (!firstName || !lastName || !city) {
                alert('يرجى ملء جميع الحقول');
                return;
            }

            currentUser = {
                firstName: firstName,
                lastName: lastName,
                city: city,
                fullName: firstName + ' ' + lastName
            };

            localStorage.setItem('kurdgpt_user', JSON.stringify(currentUser));
            showMainContent();
        }

        // Register function
        function register() {
            const firstName = document.getElementById('regFirstName').value.trim();
            const lastName = document.getElementById('regLastName').value.trim();
            const city = document.getElementById('regCity').value.trim();

            if (!firstName || !lastName || !city) {
                alert('يرجى ملء جميع الحقول');
                return;
            }

            currentUser = {
                firstName: firstName,
                lastName: lastName,
                city: city,
                fullName: firstName + ' ' + lastName
            };

            localStorage.setItem('kurdgpt_user', JSON.stringify(currentUser));
            showMainContent();
        }

        // Show main content
        function showMainContent() {
            document.getElementById('authContainer').style.display = 'none';
            document.getElementById('mainContent').style.display = 'block';
            document.getElementById('userInfo').style.display = 'flex';
            document.getElementById('userName').textContent = currentUser.fullName;
            
            // Load saved messages
            const savedMessages = localStorage.getItem('kurdgpt_messages');
            if (savedMessages) {
                messages = JSON.parse(savedMessages);
            }
            
            loadMessages();
        }

        // Logout function
        function logout() {
            localStorage.removeItem('kurdgpt_user');
            localStorage.removeItem('kurdgpt_messages');
            currentUser = null;
            document.getElementById('authContainer').style.display = 'block';
            document.getElementById('mainContent').style.display = 'none';
            document.getElementById('userInfo').style.display = 'none';
            
            // Clear forms
            document.getElementById('loginFirstName').value = '';
            document.getElementById('loginLastName').value = '';
            document.getElementById('loginCity').value = '';
            showLogin();
        }

        // Switch chat room
        function switchRoom(room) {
            currentRoom = room;
            
            // Update active room
            document.querySelectorAll('.chat-room').forEach(r => r.classList.remove('active'));
            document.querySelector(`.chat-room.${room}`).classList.add('active');
            
            // Update header
            const headers = {
                ai: '🤖 الذكاء الاصطناعي - KurdGPT',
                help: '🆘 غرفة المساعدة',
                general: '😄 الدردشة العامة'
            };
            document.getElementById('chatHeader').textContent = headers[room];
            
            loadMessages();
        }

        // Load messages for current room
        function loadMessages() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = '';
            
            if (currentRoom === 'ai') {
                // AI welcome message
                const welcomeMsg = document.createElement('div');
                welcomeMsg.className = 'message ai';
                welcomeMsg.innerHTML = `
                    <div class="message-header">KurdGPT</div>
                    مرحباً ${currentUser.fullName}! أنا KurdGPT، ذكاءك الاصطناعي الشخصي. كيف يمكنني مساعدتك اليوم؟
                `;
                chatMessages.appendChild(welcomeMsg);
            }
            
            // Load saved messages
            if (messages[currentRoom]) {
                messages[currentRoom].forEach(msg => {
                    addMessageToChat(msg.text, msg.sender, msg.timestamp, false);
                });
            }
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Send message
        function sendMessage() {
            const input = document.getElementById('messageInput');
            const text = input.value.trim();
            
            if (!text) return;
            
            const timestamp = new Date().toLocaleTimeString('ar-SA');
            
            if (currentRoom === 'ai') {
                // Add user message
                addMessageToChat(text, currentUser.fullName, timestamp);
                
                // Simulate AI response
                setTimeout(() => {
                    const aiResponses = [
                        'شكراً لك على سؤالك! هذا موضوع مثير للاهتمام.',
                        'أفهم ما تقصده. دعني أساعدك في هذا الأمر.',
                        'هذا سؤال رائع! إليك ما أعرفه عن هذا الموضوع...',
                        'يمكنني مساعدتك في ذلك. هل تريد المزيد من التفاصيل؟',
                        'ممتاز! هذا يذكرني بموضوع مشابه...'
                    ];
                    const randomResponse = aiResponses[Math.floor(Math.random() * aiResponses.length)];
                    addMessageToChat(randomResponse, 'KurdGPT', new Date().toLocaleTimeString('ar-SA'));
                }, 1000);
            } else {
                // Group chat
                addMessageToChat(text, currentUser.fullName, timestamp);
            }
            
            input.value = '';
        }

        // Add message to chat
        function addMessageToChat(text, sender, timestamp, save = true) {
            const chatMessages = document.getElementById('chatMessages');
            const messageDiv = document.createElement('div');
            
            let messageClass = 'message ';
            if (sender === 'KurdGPT') {
                messageClass += 'ai';
            } else if (sender === currentUser.fullName) {
                messageClass += 'user';
            } else {
                messageClass += 'other';
            }
            
            messageDiv.className = messageClass;
            messageDiv.innerHTML = `
                <div class="message-header">${sender} - ${timestamp}</div>
                ${text}
            `;
            
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Save message
            if (save && sender !== 'KurdGPT') {
                if (!messages[currentRoom]) {
                    messages[currentRoom] = [];
                }
                messages[currentRoom].push({
                    text: text,
                    sender: sender,
                    timestamp: timestamp
                });
                localStorage.setItem('kurdgpt_messages', JSON.stringify(messages));
            }
        }

        // Handle Enter key
        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // Initialize
        window.onload = function() {
            checkAuth();
        };
    </script>
</body>
</html>
